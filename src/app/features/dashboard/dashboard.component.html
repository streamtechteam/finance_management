

<section class="dashboard-container">
	<!-- <header class="dashboard-header">
		<h1>Dashboard</h1>
	</header> -->

	<div class="dashboard-cards">
			<div class="dashboard-card">
				<h2>Projects</h2>
				<ul>
					@for (project of projects ; track $index) {
						<li>{{project.name}}</li>
					}
				</ul>
				<button (click)="onEditData({mode: 'get', type: 'projects'})" matButton>View All Projects</button>
			</div>

		<div class="dashboard-card">
			<h2>Finance</h2>
			<ul>
				@for (finance of finances ; track $index) {
					<li>{{finance.category}} : ${{finance.amount}}</li>
				}
				<!-- <li>Revenue: $10,000 (placeholder)</li>
				<li>Expenses: $5,000 (placeholder)</li>
				<li>Profit: $5,000 (placeholder)</li> -->
			</ul>
			<button (click)="onEditData({mode: 'get', type: 'finances'})" matButton>View Financials</button>
		</div>
		@if (this.isAdmin) {
		<div class="dashboard-card">
			<h2>Users</h2>
			<ul>
				@for (user of users; track $index) {
					<li>{{user.name}} ({{user.role}})</li>
				}
			</ul>
			
			<button
			routerLink="/dashboard/users"
			matButton>View All Users</button>
		
		</div>
		}
	</div>

	<section class="dashboard-features">
		<h2>Quick Actions</h2>
		<div class="dashboard-actions">
			<!-- Add Project only for admin -->
			<button matButton routerLink="/dashboard/add/projects">Add Project</button>
			@if (this.isAdmin) {
				<button matButton>Generate Report</button>
			}
			@if (this.canEditUsers) {
				<button matButton routerLink="/dashboard/add/users">Add User</button>
			}
		</div>
		<h2>Recent Activity</h2>
		<ul>
			<!-- @for(project of project ; track $index) {

			} -->
			<li>{{projects.at(-1)?.name}} created</li>
			<li>Profile {{users.at(-1)?.name}} added</li>
			<li>{{finances.at(-1)?.category}} report generated (${{finances.at(-1)?.amount}})</li>
		</ul>
	</section>
</section>

<!-- @if(this.isDialogOpen().hidden == false) {
	<DialogComponent></DialogComponent>
} -->